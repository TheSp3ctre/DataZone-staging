# ==============================================
# DataZone Energy - Variáveis de Ambiente
# ==============================================
# IMPORTANTE: Copie este arquivo para .env e ajuste os valores

# ----------------------------------------------
# Ambiente
# ----------------------------------------------
ENVIRONMENT=development
DEBUG=True

# ----------------------------------------------
# PostgreSQL / PostGIS
# ----------------------------------------------
POSTGRES_DB=datazone_energy
POSTGRES_USER=datazone_user
POSTGRES_PASSWORD=datazone_pass_dev
POSTGRES_HOST=postgis
POSTGRES_PORT=5432
POSTGRES_HOST_AUTH_METHOD=scram-sha-256

# URLs de conexão (geradas automaticamente)
DATABASE_URL=postgresql://datazone_user:datazone_pass_dev@postgis:5432/datazone_energy
ASYNC_DATABASE_URL=postgresql+asyncpg://datazone_user:datazone_pass_dev@postgis:5432/datazone_energy

# ----------------------------------------------
# API Settings
# ----------------------------------------------
API_PORT=8000
API_V1_PREFIX=/api/v1
PROJECT_NAME=DataZone Energy API
VERSION=1.0.0

# ----------------------------------------------
# CORS (ajustar para produção)
# ----------------------------------------------
BACKEND_CORS_ORIGINS=["http://localhost:3000","http://localhost:5173","http://localhost:8000"]

# ----------------------------------------------
# Segurança
# ----------------------------------------------
# ATENÇÃO: Gerar chave segura em produção com: openssl rand -hex 32
SECRET_KEY=dev_secret_key_change_in_production_use_openssl_rand_hex_32
ACCESS_TOKEN_EXPIRE_MINUTES=30
ALGORITHM=HS256

# ----------------------------------------------
# GIS Settings
# ----------------------------------------------
DEFAULT_CRS=EPSG:4326
SIMPLIFY_TOLERANCE=0.001
MAX_GEOMETRY_COMPLEXITY=10000

# ----------------------------------------------
# Performance e Cache
# ----------------------------------------------
MAX_CONNECTIONS_POOL=20
CACHE_TTL=300
ENABLE_REDIS_CACHE=False
REDIS_URL=redis://localhost:6379/0

# ----------------------------------------------
# PgAdmin (opcional, apenas desenvolvimento)
# ----------------------------------------------
PGADMIN_EMAIL=admin@datazone.local
PGADMIN_PASSWORD=admin
PGADMIN_PORT=5050

# ----------------------------------------------
# Logging
# ----------------------------------------------
LOG_LEVEL=INFO
LOG_FORMAT=json

# ----------------------------------------------
# Google Cloud Platform / BigQuery
# ----------------------------------------------
# Projeto BigQuery FATURADOR (billing project) - onde os jobs serão criados
# IMPORTANTE: Use seu projeto com faturamento habilitado, não o projeto público
GOOGLE_CLOUD_PROJECT=basedosdados-484822
GCP_PROJECT_ID=basedosdados-484822

# Caminho para chave de autenticação (Service Account JSON)
# IMPORTANTE: Baixar do GCP Console e salvar em secrets/gcp-service-account.json
GOOGLE_APPLICATION_CREDENTIALS=/secrets/gcp-service-account.json

# ----------------------------------------------
# ETL Pipeline Settings
# ----------------------------------------------
# Tamanho dos chunks para processamento (ajustar conforme memória disponível)
ETL_CHUNK_SIZE=10000

# Configurações de retry para resiliência
ETL_MAX_RETRIES=3
ETL_RETRY_DELAY_SECONDS=5

# ----------------------------------------------
# Railway / Vercel (Produção)
# ----------------------------------------------
# Descomentar e configurar para deploy
# RAILWAY_ENVIRONMENT=production
# DATABASE_URL=${DATABASE_URL}
# PORT=8000
